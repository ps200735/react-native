{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component, useEffect, useState } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Get = function Get(_ref) {\n  var navigation = _ref.navigation;\n  var isFocused = useIsFocused();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var getUserData = function getUserData() {\n    var response, json;\n    return _regeneratorRuntime.async(function getUserData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('http://127.0.0.1:8000/api/Products/'));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            json = _context.sent;\n            setUser(json);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  useEffect(function () {\n    getUserData();\n  });\n\n  var deleteData = function deleteData(item) {\n    var myHeaders = new Headers();\n    console.log(item);\n    myHeaders.append('Content-Type', 'application/json');\n    fetch('https://myfirstapi.azurewebsites.net/api/person/delete?id=' + item.personId, {\n      method: 'DELETE',\n      headers: myHeaders,\n      body: JSON.stringify({\n        firstName: item.firstName,\n        lastName: item.lastName,\n        address: item.address\n      })\n    }).then(function (result) {\n      return console.log(result);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Detail', item);\n      },\n      children: _jsxs(View, {\n        style: {\n          borderBottomWidth: 1,\n          borderBottomColor: '#ccc',\n          padding: 5\n        },\n        children: [_jsxs(Text, {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: [item.name, \" \"]\n        }), _jsx(Button, {\n          title: \"DEL\",\n          onPress: function onPress() {\n            return deleteData(item);\n          }\n        })]\n      })\n    });\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: user,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff'\n  }\n});\nexport default Get;","map":{"version":3,"sources":["C:/MP1/yy/view/Admin/Get.js"],"names":["React","Component","useEffect","useState","useIsFocused","Get","navigation","isFocused","user","setUser","getUserData","fetch","response","json","console","error","deleteData","item","myHeaders","Headers","log","append","personId","method","headers","body","JSON","stringify","firstName","lastName","address","then","result","catch","renderItem","navigate","borderBottomWidth","borderBottomColor","padding","fontWeight","name","styles","container","id","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor"],"mappings":"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","sourcesContent":["//import liraries\nimport React, { Component, useEffect, useState } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  Button,\n} from 'react-native';\n\n\n\n\nconst Get = ({ navigation }) => {\n  const isFocused = useIsFocused();\nconst [user, setUser] = useState();\n\n  const getUserData = async () => {\n    try {\n      let response = await fetch('http://127.0.0.1:8000/api/Products/');\n      let json = await response.json();\n      setUser(json);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  \n\n  useEffect(() => {\n  getUserData();\n  });\n\n  const deleteData = (item) => {\n    var myHeaders = new Headers();\n    console.log(item);\n    myHeaders.append('Content-Type', 'application/json');\n  \n    fetch('https://myfirstapi.azurewebsites.net/api/person/delete?id='+item.personId, {\n      method: 'DELETE',\n      headers: myHeaders,\n      body: JSON.stringify({\n       firstName : item.firstName,\n        lastName: item.lastName,\n        address: item.address,\n      }),\n    })\n      \n      \n      .then((result) => console.log(result))\n      .catch((error) => console.log(error));\n        \n        \n  };\n\n\n  const renderItem = ({ item }) => {\n    return (\n      <TouchableOpacity onPress={()=>navigation.navigate('Detail',  item )}>\n        <View\n          style={{\n            borderBottomWidth: 1,\n            borderBottomColor: '#ccc',\n            padding: 5,\n          }}>\n          <Text style={{ fontWeight: 'bold' }}>{item.name} </Text>\n          <Button title='DEL' onPress={()=>deleteData(item)}></Button>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={user}\n        renderItem={renderItem}\n        keyExtractor={(item) => item.id}\n      />\n    </View>\n  );\n};\n\n// define your styles\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n});\n\n//make this component available to the app\nexport default Get;\n"]},"metadata":{},"sourceType":"module"}